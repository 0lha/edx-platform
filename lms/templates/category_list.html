<%!
  from django.utils.translation import ugettext as _
  from django.core.urlresolvers import reverse
%>
<%inherit file="main.html" />

<%namespace name='static' file='static_content.html'/>

<%block name="pagetitle">${_("Course catalog")}</%block>

<main id="main" aria-label="Content" tabindex="-1">
    <section class="categories">
      <header>
        <div class="outer-wrapper">
          <div class="title">
            <div class="heading-group">
            </div>
            % if settings.FEATURES.get('ENABLE_COURSE_DISCOVERY'):
              <div class="course-search">
                <form method="get" action="/courses">
                  <label><span class="sr">${_("Search for a course")}</span>
                    <input class="search-input" name="search_query" type="text" placeholder="${_("Search for a course")}"></input>
                  </label>
                  <button class="search-button" type="submit">
                    <span class="icon fa fa-search" aria-hidden="true"></span><span class="sr">${_("Search")}</span>
                  </button>
                </form>
              </div>
            % endif

          </div>
        </div>

      </header>

     % for category1, children1 in categories.iteritems():
      <section class="category level-1">
        <a href="${reverse('course_category', kwargs={'slug': category1.slug})}"><h2>${category1.name}</h2></a>
       % if children1:
        <ol class="category level-2">
         % for category2, children2 in children1.iteritems():
          <li>
            <a href="${reverse('course_category', kwargs={'slug': category2.slug})}"><h3>${category2.name}</h3></a>
           % if children2:
            <ol class="category level-3">
             % for category3 in children2:
              <li><a href="${reverse('course_category', kwargs={'slug': category3.slug})}">${category3.name}</a></li>
             % endfor
            </ol>
           % endif
          </li>
         % endfor 
        </ol>
       % endif
      </section>
     % endfor 
    </section>
</main>
