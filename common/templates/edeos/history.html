<a href="#" class="show"><span class="show-text">Show</span> <span>Edeos history</span></a>
<div style="margin: 0 auto;text-align: center;" class="edeos-history hidden">
    % if edeos_data:
    % if any(edeos_data):
        <br>
        <h3>EdEos History</h3>
        <br>
        <table style="font-size: 12px;text-align: center;border: #3c3c3c 1px solid;display: table; margin:0 auto;">
            <thead>
                <tr class="table-responsive">
                    <th scope="col" style="padding: 5px; border:1px solid;">Wallet</th>
                    <th scope="col" style="padding: 5px; border:1px solid;">transaction_id</th>
                    <th scope="col" style="padding: 5px; border:1px solid;">status</th>
                    <th scope="col" style="padding: 5px; border:1px solid;">created_at</th>
                    <th scope="col" style="padding: 5px; border:1px solid;">lms_id</th>
                    <th scope="col" style="padding: 5px; border:1px solid;">event_type</th>
                    <!--<th scope="col" style="padding: 5px; border:1px solid;">event_detail</th>-->
                    <th scope="col" style="padding: 5px; border:1px solid;">course_id</th>
                    <th scope="col" style="padding: 5px; border:1px solid;">amount</th>
                    <!--<th scope="col" style="padding: 5px; border:1px solid;">updated_at</th>-->
                    <!--<th scope="col" style="padding: 5px; border:1px solid;">deleted_at</th>-->
                </tr>

            </thead>
            <tbody>
                % for wallet in edeos_data:
                    <tr>
                        <td>${wallet or 'n/a'}</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        % for transaction in edeos_data[wallet]:
                            <tr>
                                <td style="border:1px solid;"></td>
                                <td style="border:1px solid;">% if transaction_id in transaction: ${transaction['transaction_id']} % endif</td>
                                <td style="border:1px solid;">% if status in transaction: ${transaction['status']} % endif</td>
                                <td style="border:1px solid;">% if created_at in transaction: ${transaction['created_at']} % endif</td>
                                <td style="border:1px solid;">% if lms_id in transaction: ${transaction['lms_id']} % endif</td>
                                <td style="border:1px solid;">% if event_type in transaction: ${transaction['event_type']} % endif</td>
                                <!--<td style="border:1px solid;">% if event_detail in transaction: ${transaction['event_detail']} % endif</td>-->
                                <td style="border:1px solid;">% if course_id in transaction: ${transaction['course_id']} % endif</td>
                                <td style="border:1px solid;">% if amount in transaction: ${transaction['amount']} % endif</td>
                                <!--<td style="border:1px solid;">${transaction['updated_at']}</td>-->
                                <!--<td style="border:1px solid;">${transaction['deleted_at']}</td>-->
                            </tr>
                        % endfor
                    </tr>
                % endfor
            </tbody>
        </table>
    % else:
        <h6>You don't have any wallets yet.</h6>
        <%include file="/edeos/get_wallet.html" />
    % endif
    % endif
</div>
<script type="text/javascript">
    $(document).ready(function(){
        $('.show').click(function(e){
            e.preventDefault();
            let textMapping = {
                Hide: 'Show',
                Show: 'Hide'
            };
            $('.show-text').text(textMapping[$('.show-text').text()]);
            $('.edeos-history').toggleClass('hidden');
        });
    });
</script>
